var oe=Object.defineProperty;var le=(s,e,t)=>e in s?oe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>(le(s,typeof e!="symbol"?e+"":e,t),t);import{o as w,c as g,a as h,d as B,b as x,u as C,e as ce,T as k,f as G,i as he,g as ue,r as U,w as de,P as u,s as M,h as A,j as _,k as m,l as ve,t as K,m as pe,n as fe}from"./vendor.4a771403.js";const _e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};_e();const we={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 959 354"},me=h("path",{fill:"#6ab04c",d:"M84.6 354c-10 0-18.8-3-26.4-9-7.6-6-11.4-15.4-11.4-28.2l.6-6.6c4.4-41.2 9.6-84 15.6-128.4 6.4-44.8 11.8-79.2 16.2-103.2L32.4 91.8 25.2 93c-7.6 0-13.6-3-18-9S.6 71.2.6 63.6l.6-5.4c.8-7.6 3.2-13.8 7.2-18.6 4-4.8 11.6-9.6 22.8-14.4 11.6-4.8 28.8-10 51.6-15.6l25.2-6c9.2-2 16.8-3 22.8-3 11.6 0 20.2 3 25.8 9 6 6 9 14.4 9 25.2 0 4.8-.6 10-1.8 15.6-6.4 31.2-18.6 120-36.6 266.4-3.2 24.8-17.4 37.2-42.6 37.2Z"},null,-1),be=h("path",{fill:"#f0932b",d:"M316.186 354c-39.2 0-69.6-12.8-91.2-38.4-21.2-25.6-31.8-62.2-31.8-109.8 0-40.4 6.2-76 18.6-106.8 12.8-31.2 30.4-55.4 52.8-72.6 22.8-17.2 49.2-25.8 79.2-25.8 39.2 0 69.4 12.8 90.6 38.4 21.6 25.6 32.4 62.2 32.4 109.8 0 40.4-6.4 76.2-19.2 107.4-12.4 30.8-30 54.8-52.8 72-22.4 17.2-48.6 25.8-78.6 25.8Zm6-67.2c21.6 0 38.6-12 51-36 12.4-24 18.6-56.6 18.6-97.8 0-27.6-4.6-48.6-13.8-63-9.2-14.8-22.6-22.2-40.2-22.2-21.6 0-38.6 12.2-51 36.6-12.4 24-18.6 56.6-18.6 97.8 0 27.6 4.4 48.6 13.2 63 9.2 14.4 22.8 21.6 40.8 21.6Z"},null,-1),ge=h("path",{fill:"#4834d4",d:"M575.967 354c-10 0-18.8-3-26.4-9-7.6-6-11.4-15.4-11.4-28.2l.6-6.6c4.4-41.2 9.6-84 15.6-128.4 6.4-44.8 11.8-79.2 16.2-103.2l-46.8 13.2-7.2 1.2c-7.6 0-13.6-3-18-9s-6.6-12.8-6.6-20.4l.6-5.4c.8-7.6 3.2-13.8 7.2-18.6 4-4.8 11.6-9.6 22.8-14.4 11.6-4.8 28.8-10 51.6-15.6l25.2-6c9.2-2 16.8-3 22.8-3 11.6 0 20.2 3 25.8 9 6 6 9 14.4 9 25.2 0 4.8-.6 10-1.8 15.6-6.4 31.2-18.6 120-36.6 266.4-3.2 24.8-17.4 37.2-42.6 37.2Z"},null,-1),Se=h("path",{fill:"#eb4d4b",d:"M807.553 354c-39.2 0-69.6-12.8-91.2-38.4-21.2-25.6-31.8-62.2-31.8-109.8 0-40.4 6.2-76 18.6-106.8 12.8-31.2 30.4-55.4 52.8-72.6 22.8-17.2 49.2-25.8 79.2-25.8 39.2 0 69.4 12.8 90.6 38.4 21.6 25.6 32.4 62.2 32.4 109.8 0 40.4-6.4 76.2-19.2 107.4-12.4 30.8-30 54.8-52.8 72-22.4 17.2-48.6 25.8-78.6 25.8Zm6-67.2c21.6 0 38.6-12 51-36 12.4-24 18.6-56.6 18.6-97.8 0-27.6-4.6-48.6-13.8-63-9.2-14.8-22.6-22.2-40.2-22.2-21.6 0-38.6 12.2-51 36.6-12.4 24-18.6 56.6-18.6 97.8 0 27.6 4.4 48.6 13.2 63 9.2 14.4 22.8 21.6 40.8 21.6Z"},null,-1),xe=[me,be,ge,Se];function Ce(s,e){return w(),g("svg",we,xe)}var Oe={render:Ce};const ye={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ee=h("path",{fill:"currentColor",d:"M392 105c.9-27 .2-56 .1-57H119.3c0 1-.8 30 .1 57H48c0 68 9.9 102.3 21 126.7S95.4 277 127.7 302c30.1 23.3 95.5 53.6 104.3 57.6v28.3c-4.6 10-23.5 28.2-83.3 28.2H128v48h256v-48h-25.7c-60.7 0-75-19.1-78.3-28.2v-28.3c9.3-4.6 80.9-40.3 104.4-57.5 25.2-18.4 50.9-51.5 58.7-70.3S464 167 464 105h-72zM109.6 211.9c-8.8-18.2-14-37.9-15.7-61.9h28.7c.7 6 1.4 11.3 2.3 16.3 6.6 39.2 14.8 70.2 25.7 96.5-17.3-13.5-31.3-30.8-41-50.9zm292.8 0c-9.9 20.3-24 37.7-41.6 51.3 11-26.2 19-56.8 25.8-96.9.8-5 1.6-10.3 2.3-16.3h29.3c-1.8 24-6.9 43.7-15.8 61.9z"},null,-1),Pe=[Ee];function $e(s,e){return w(),g("svg",ye,Pe)}var Ie={render:$e};const Le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Te=h("path",{fill:"currentColor",d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm120 182.15a8.62 8.62 0 0 1-8.62 8.62h-59.54a8.61 8.61 0 0 1-6.09-14.71l22.17-22.17-5.6-6.51a87.38 87.38 0 1 0-62.94 148 87.55 87.55 0 0 0 82.42-58.25A16 16 0 1 1 368 295.8a119.4 119.4 0 1 1-112.62-159.18 118.34 118.34 0 0 1 86.36 36.95l.56.62 4.31 5 14.68-14.68a8.44 8.44 0 0 1 6-2.54 8.61 8.61 0 0 1 8.68 8.63z"},null,-1),Ae=[Te];function Re(s,e){return w(),g("svg",Le,Ae)}var De={render:Re};const je={key:0,class:"absolute inset-0"},Be=h("div",{class:"absolute inset-0 bg-white opacity-80"},null,-1),Ge={class:"relative w-full h-0 pt-full"},Me={class:"absolute inset-0 flex flex-col justify-center items-center"},Ne=h("div",{class:"text-3xl font-sans text-red"},"Game over",-1),Ve=B({props:{value:{type:Boolean,required:!0}},emits:["restart"],setup(s,{emit:e}){const t=s;return(i,r)=>t.value?(w(),g("div",je,[Be,h("div",Ge,[h("div",Me,[Ne,h("button",{class:"mt-3",onClick:r[0]||(r[0]=n=>e("restart",!1))},[x(C(De),{class:"w-12 h-12 text-red"})])])])])):ce("",!0)}}),O=30,p=10*O,Q="1010_SCORE",H="SOUND_CLICK",Y="SOUND_SUCCESS";var ke="/tenten/assets/click.48cf29d2.mp3",Ue="/tenten/assets/success.9cc4435b.mp3";class a{constructor(e,t){l(this,"x");l(this,"y");this.x=e,this.y=t}static origin(){return new a(0,0)}static from(e){return new a(e.x,e.y)}isEqualTo(e){return this.x===e.x&&this.y===e.y}shift(e,t){return new a(this.x+e,this.y+(t!=null?t:e))}mul(e,t){return new a(this.x*e,this.y*(t!=null?t:e))}div(e){return new a(Math.floor(this.x/e),Math.floor(this.y/e))}}class P{constructor(e,t){l(this,"width");l(this,"height");this.width=e,this.height=t}static square(e){return new P(e,e)}}const b=s=>s instanceof k||s instanceof G||he(s),S=s=>b(s)?s.value:s,y=s=>new k(s),F=s=>new ue(s),$=s=>new G(s),z=s=>{const e=U(s.value);return de(e,t=>s.value=t),s.subscribe(t=>e.value=t),e};class W extends u.GameObjects.Rectangle{constructor(e,t,i,r,n,o,f,j){const{x:J,y:ie}=S(t),{width:ne,height:ae}=S(i);super(e,J,ie,ne,ae,S(r),S(n));this.setStrokeStyle(S(o),S(f),S(j)),b(t)&&t.subscribe(v=>{this.setX(v.x),this.setY(v.y)}),b(i)&&i.subscribe(v=>{this.width=v.width,this.height=v.height}),b(r)&&r.subscribe(v=>{this.setFillStyle(v,this.fillAlpha)}),b(n)&&n.subscribe(v=>{this.setFillStyle(this.fillColor,v)}),b(o)&&o.subscribe(v=>{this.setStrokeStyle(v,this.strokeColor,this.strokeAlpha)}),b(f)&&f.subscribe(v=>{this.setStrokeStyle(this.lineWidth,v,this.strokeAlpha)}),b(j)&&j.subscribe(v=>{this.setStrokeStyle(this.lineWidth,this.strokeColor,v)})}}class I extends u.GameObjects.Rectangle{constructor(e,t,i,r){const{x:n,y:o}=I.gridPositionToPoint(t,r);super(e,n,o,r,r);l(this,"positionValue");l(this,"size");this.positionValue=t,this.size=r,b(this.positionValue)&&this.positionValue.subscribe(this.updatePosition.bind(this)),b(i)?(i.subscribe(this.updateColor.bind(this)),this.updateColor(i.value)):this.updateColor(i),this.setStrokeStyle(2,16777215)}get position(){return S(this.positionValue)}static gridPositionToPoint(e,t){return S(e).mul(t).shift(t/2)}updatePosition(e){const t=I.gridPositionToPoint(e,this.size);this.setX(t.x),this.setY(t.y)}updateColor(e){var t;typeof e=="number"?this.setFillStyle(e,1):this.setFillStyle(e.color,(t=e.alpha)!=null?t:1)}}const c={BLACK:0,BLUE:4732116,GRAY:14673641,GREEN:6991948,LIME:12246104,ORANGE:15766315,PURPLE:12463837,RED:15420747,TEAL:2270899,VIOLET:1249088,WHITE:16777215,YELLOW:16370212};class He extends u.GameObjects.Container{constructor(e,t,i,r,n){super(e);l(this,"shape");l(this,"reference");l(this,"color");l(this,"elements");this.shape=t,this.reference=i,this.color=this.createComputedColor(n),this.elements=this.createElements(),this.add(this.elements),r.subscribe(this.updateVisibility.bind(this)),this.updateVisibility(r.value),this.setX(-1*p/2).setY(-1*p/2)}createComputedColor(e){return new G(()=>e.value?{color:c.BLACK,alpha:.5}:this.shape.color)}createComputedPoint(e){return new G(()=>this.reference.value.shift(e.x,e.y))}createElements(){return this.shape.points.map(e=>{const t=this.createComputedPoint(e);return new I(this.scene,t,this.color,O)})}updateVisibility(e){this.setVisible(e)}getBox(){const e=[...this.getPositions()].sort((i,r)=>i.y-r.y),t=[...this.getPositions()].sort((i,r)=>i.x-r.x);return{top:e[0].y,bottom:e[e.length-1].y,left:t[0].x,right:t[t.length-1].x}}getPositions(){return this.elements.map(e=>e.position)}}var Ye=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,ze=(s,e,t,i)=>{for(var r=i>1?void 0:i?Fe(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&Ye(e,t,r),r};let L=class{constructor(s=20){l(this,"values");l(this,"clearDelay");this.values=F(Array.from({length:100}).map(()=>null)),this.clearDelay=s}static notNull(s){return s!==null}get freeCells(){return this.cells.map((s,e)=>{if(s===null){const t=e%10,i=(e-t)/10;return a.from({x:t,y:i})}else return null}).filter(L.notNull)}get cells(){return this.values.value}set cells(s){this.values.value=s}get rows(){return Array.from({length:10}).map((s,e)=>new We(this,e))}get columns(){return Array.from({length:10}).map((s,e)=>new Xe(this,e))}getCell(s,e){return this.cells[e*10+s]}setCell(s,e,t){const i=[...this.cells];i[e*10+s]=t,this.cells=i}fillCells(s,e){s.forEach(t=>this.setCell(t.x,t.y,e))}hasCollisions(s){return s.some(e=>this.getCell(e.x,e.y)!==null)}canInsert(s){for(let e=s.edges.top;e<s.edges.bottom+1;e++)for(let t=s.edges.left;t<s.edges.right+1;t++)if(s.points.map(r=>r.shift(t,e)).every(r=>this.freeCells.find(n=>n.isEqualTo(r))))return!0;return!1}subscribe(s){this.values.subscribe(s)}reset(){this.cells=Array.from({length:100}).map(()=>null)}};L=ze([M()],L);class ee{constructor(e,t){l(this,"matrix");l(this,"index");this.matrix=e,this.index=t}get isFull(){return this.values.every(e=>e!==null)}}class We extends ee{get values(){return this.matrix.cells.slice(10*this.index,10*this.index+10)}}class Xe extends ee{get values(){return Array.from({length:10}).map((e,t)=>this.matrix.getCell(this.index,t))}}var qe=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Je=(s,e,t,i)=>{for(var r=i>1?void 0:i?Ze(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&qe(e,t,r),r};let X=class{read(s){var e;return(e=localStorage.getItem(s))!=null?e:null}write(s,e){localStorage.setItem(s,e)}};X=Je([A()],X);var Ke=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,et=(s,e,t,i)=>{for(var r=i>1?void 0:i?Qe(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&Ke(e,t,r),r},tt=(s,e)=>(t,i)=>e(t,i,s);let R=class{constructor(s){l(this,"storageService");l(this,"current");l(this,"highest");this.storageService=s,this.current=y(0),this.highest=y(this.loadFromStorage())}loadFromStorage(){const s=this.storageService.read(Q),e=Number(s);return isNaN(e)?0:e}increase(s){this.current.value+=s,this.current.value>this.highest.value&&(this.highest.value=this.current.value,this.storageService.write(Q,`${this.highest.value}`))}reset(){this.current.value=0}};R=et([M(),tt(0,_(X))],R);class d{constructor(e,...t){l(this,"color");l(this,"points");this.color=e,this.points=t}get sortedX(){const e=[...this.points].sort((t,i)=>t.x-i.x);return[e[0],e[e.length-1]]}get sortedY(){const e=[...this.points].sort((t,i)=>t.y-i.y);return[e[0],e[e.length-1]]}get dimensions(){const[e,t]=this.sortedX,[i,r]=this.sortedY,n=Math.abs(t.x-e.x)+1,o=Math.abs(r.y-i.y)+1;return new P(n,o)}get edges(){const[e,t]=this.sortedX,[i,r]=this.sortedY;return{top:Math.abs(i.y),bottom:9-Math.abs(r.y),left:Math.abs(e.x),right:9-Math.abs(t.x)}}get center(){return a.from({x:this.dimensions.width/2,y:this.dimensions.height/2})}static from(e){return new d(e.color,...e.points)}}const st=[new d(c.VIOLET,new a(0,0)),new d(c.LIME,new a(0,0),new a(1,0),new a(0,-1),new a(1,-1)),new d(c.TEAL,new a(0,0),new a(1,0),new a(2,0),new a(0,-1),new a(1,-1),new a(2,-1),new a(0,-2),new a(1,-2),new a(2,-2)),new d(c.YELLOW,new a(0,0),new a(1,0)),new d(c.YELLOW,new a(0,0),new a(0,-1)),new d(c.ORANGE,new a(0,0),new a(1,0),new a(2,0)),new d(c.ORANGE,new a(0,0),new a(0,-1),new a(0,-2)),new d(c.PURPLE,new a(0,0),new a(1,0),new a(2,0),new a(3,0)),new d(c.PURPLE,new a(0,0),new a(0,-1),new a(0,-2),new a(0,-3)),new d(c.RED,new a(-1,0),new a(0,0),new a(1,0),new a(2,0),new a(3,0)),new d(c.RED,new a(0,0),new a(0,-1),new a(0,-2),new a(0,-3),new a(0,-4)),new d(c.GREEN,new a(0,0),new a(0,-1),new a(1,-1)),new d(c.GREEN,new a(0,-1),new a(1,-1),new a(1,0)),new d(c.GREEN,new a(0,0),new a(1,0),new a(1,-1)),new d(c.GREEN,new a(0,0),new a(1,0),new a(0,-1)),new d(c.BLUE,new a(0,0),new a(0,-1),new a(0,-2),new a(1,-2),new a(2,-2)),new d(c.BLUE,new a(0,-2),new a(1,-2),new a(2,-2),new a(2,-1),new a(2,0)),new d(c.BLUE,new a(0,0),new a(1,0),new a(2,0),new a(2,-1),new a(2,-2)),new d(c.BLUE,new a(0,0),new a(1,0),new a(2,0),new a(0,-1),new a(0,-2))];var rt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,nt=(s,e,t,i)=>{for(var r=i>1?void 0:i?it(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&rt(e,t,r),r};let T=class{constructor(){l(this,"shapes");l(this,"lockedShapes");l(this,"selectedIdx");l(this,"selectedShape");this.shapes=F([]),this.lockedShapes=F([]),this.selectedIdx=y(null),this.selectedShape=$(()=>this.selectedIdx.value!==null?this.shapes.value[this.selectedIdx.value]:null),this.lockedShapes.subscribe(this.handleLocked.bind(this)),this.reset()}get availableShapes(){return this.shapes.value.filter((s,e)=>!this.lockedShapes.value.includes(e))}handleLocked(s){s.length===3&&this.reset()}reset(){this.selectedIdx.value=null,this.shapes.value=[...st].sort(()=>.5-Math.random()).slice(0,3),this.lockedShapes.value=[]}lockSelectedShape(){this.selectedIdx.value!==null&&(this.lockedShapes.value=[...this.lockedShapes.value,this.selectedIdx.value],this.selectedIdx.value=null)}};T=nt([M()],T);var at=Object.defineProperty,ot=Object.getOwnPropertyDescriptor,lt=(s,e,t,i)=>{for(var r=i>1?void 0:i?ot(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&at(e,t,r),r};let N=class{constructor(){l(this,"isOver");this.isOver=y(!1)}gameOver(){this.isOver.value=!0}reset(){this.isOver.value=!1}};N=lt([M()],N);const te=(s,e)=>new Promise(t=>{setTimeout(()=>{s(),t()},e)});var ct=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,ut=(s,e,t,i)=>{for(var r=i>1?void 0:i?ht(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&ct(e,t,r),r},D=(s,e)=>(t,i)=>e(t,i,s);let V=class extends u.GameObjects.Container{constructor(s,e,t,i,r){super(s,p/2,p/2);l(this,"stateService");l(this,"shapesService");l(this,"matrixService");l(this,"scoreService");l(this,"pointerPosition",y(a.origin()));l(this,"isShapeContainerVisible",y(!1));l(this,"isShapeContainerError",y(!1));l(this,"hitArea");l(this,"shapeContainer",null);this.stateService=e,this.shapesService=t,this.matrixService=i,this.scoreService=r,this.hitArea=this.createHitArea(),this.shapesService.selectedShape.subscribe(this.updateShape.bind(this)),this.updateShape(this.shapesService.selectedShape.value),this.hitArea.setInteractive().on(u.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleClick.bind(this)).on(u.Input.Events.GAMEOBJECT_POINTER_MOVE,this.handleMove.bind(this)).on(u.Input.Events.GAMEOBJECT_POINTER_OVER,this.handleOver.bind(this)).on(u.Input.Events.GAMEOBJECT_POINTER_OUT,this.handleOut.bind(this)),this.add(this.hitArea)}static getGridPosition(s){return a.from(s).div(O)}createHitArea(){return new W(this.scene,a.origin(),P.square(p))}createShapeContainer(s){return new He(this.scene,s,this.pointerPosition,this.isShapeContainerVisible,this.isShapeContainerError)}updateShape(s){this.shapeContainer&&this.remove(this.shapeContainer,!0),s?(this.shapeContainer=this.createShapeContainer(s),this.add(this.shapeContainer)):this.shapeContainer=null}async handleClick(){const s=this.shapeContainer,e=this.shapesService.selectedShape.value;if(!s||!e)return;const t=s.getPositions();if(this.matrixService.hasCollisions(t))return;this.matrixService.fillCells(t,e.color),this.scoreService.increase(e.points.length),this.shapesService.lockSelectedShape();let i=this.matrixService.rows.filter(n=>n.isFull).map(n=>n.values.map((o,f)=>te(()=>{this.matrixService.setCell(f,n.index,null)},f*this.matrixService.clearDelay))).flat();i.length===0&&(i=this.matrixService.columns.filter(n=>n.isFull).map(n=>n.values.map((o,f)=>te(()=>{this.matrixService.setCell(n.index,f,null)},f*this.matrixService.clearDelay))).flat()),this.scoreService.increase(i.length),this.scene.sound.get(i.length>0?Y:H).play(),await Promise.all(i),this.shapesService.availableShapes.every(n=>!this.matrixService.canInsert(n))&&this.stateService.gameOver()}handleMove(s){if(!this.shapeContainer||!this.shapesService.selectedShape.value)return;const e=V.getGridPosition(s),t=this.shapeContainer.getBox(),i=this.shapesService.selectedShape.value.edges,r=()=>e.x-this.pointerPosition.value.x,n=()=>e.y-this.pointerPosition.value.y;t.top+n()<=0?e.y=i.top:t.bottom+n()>=9&&(e.y=i.bottom),t.left+r()<=0?e.x=i.left:t.right+r()>=9&&(e.x=i.right);const o=this.shapeContainer.getPositions().map(f=>f.shift(r(),n()));this.isShapeContainerError.value=this.matrixService.hasCollisions(o),this.pointerPosition.value=e}handleOver(){this.isShapeContainerVisible.value=!0}handleOut(){this.isShapeContainerVisible.value=!1}};V=ut([A(),D(0,_("Scene")),D(1,_(N)),D(2,_(T)),D(3,_(L)),D(4,_(R))],V);var dt=Object.defineProperty,vt=Object.getOwnPropertyDescriptor,pt=(s,e,t,i)=>{for(var r=i>1?void 0:i?vt(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&dt(e,t,r),r},se=(s,e)=>(t,i)=>e(t,i,s);let q=class extends u.GameObjects.Container{constructor(s,e){super(s);l(this,"matrixService");this.matrixService=e,this.matrixService.subscribe(this.updateElements.bind(this))}createElement(s,e){return new I(this.scene,s,e,O)}updateElements(s){this.removeAll(!0),s.forEach((e,t)=>{if(e===null)return;const i=t%10,r=(t-i)/10,n=a.from({x:i,y:r}),o=this.createElement(n,e);this.add(o)})}};q=pt([A(),se(0,_("Scene")),se(1,_(L))],q);class ft extends u.GameObjects.Container{constructor(e,t,i,r,n){super(e);l(this,"shape");l(this,"background");l(this,"border");l(this,"disabled");l(this,"selected");l(this,"hovered");l(this,"backgroundColor");l(this,"borderAlpha");l(this,"shapeContainer");l(this,"listener");this.shape=t,this.disabled=r,this.selected=i,this.hovered=new k(!1),this.backgroundColor=this.createComputedBackgroundColor(),this.borderAlpha=this.createComputedBorderAlpha(),this.background=this.createBackground(n),this.border=this.createBorder(n,2),this.shapeContainer=this.createShapeContainer(this.shape.value),this.listener=null,this.add([this.background,this.border,this.shapeContainer]),this.shape.subscribe(this.updateShapeContainer.bind(this)),this.disabled.subscribe(this.updateInteractive.bind(this)),this.disabled.subscribe(this.updateVisibility.bind(this)),this.updateInteractive(this.disabled.value)}createBackground(e){return new W(this.scene,a.origin(),P.square(e),this.backgroundColor,.1)}createBorder(e,t){return new W(this.scene,a.origin(),P.square(e-t),c.WHITE,0,t,c.TEAL,this.borderAlpha)}createShapeContainer(e){const t=new u.GameObjects.Container(this.scene),i=e.center.mul(-1,1).shift(e.edges.left,-1),r=e.points.map(n=>{const o=i.shift(n.x,n.y);return new I(this.scene,o,e.color,16)});return t.add(r),t}createComputedBackgroundColor(){return $(()=>!this.disabled.value&&(this.selected.value||this.hovered.value)?c.TEAL:c.WHITE)}createComputedBorderAlpha(){return $(()=>!this.disabled.value&&this.selected.value?1:0)}updateShapeContainer(e){this.remove(this.shapeContainer,!0),this.shapeContainer=this.createShapeContainer(e),this.add(this.shapeContainer)}updateInteractive(e){e?this.background.removeInteractive():this.background.setInteractive({useHandCursor:!0}).on(u.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleClick.bind(this)).on(u.Input.Events.GAMEOBJECT_POINTER_OVER,this.handleOver.bind(this)).on(u.Input.Events.GAMEOBJECT_POINTER_OUT,this.handleOut.bind(this))}updateVisibility(e){this.setVisible(!e)}handleClick(){this.listener&&this.listener()}handleOver(){this.disabled.value||(this.hovered.value=!0)}handleOut(){this.disabled.value||(this.hovered.value=!1)}onClick(e){return this.listener=e,this}}var _t=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,mt=(s,e,t,i)=>{for(var r=i>1?void 0:i?wt(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&_t(e,t,r),r},re=(s,e)=>(t,i)=>e(t,i,s);let E=class extends u.GameObjects.Container{constructor(s,e){super(s);l(this,"shapesService");this.shapesService=e,this.create()}static get buttonSize(){return O*10/3}create(){const{selectedIdx:s,shapes:e,lockedShapes:t}=this.shapesService,i=e.value.map((r,n)=>{const o=new ft(this.scene,$(()=>e.value[n]),$(()=>n===s.value),$(()=>t.value.includes(n)),E.buttonSize);return o.setX(n*E.buttonSize).setY(E.buttonSize/2+20).onClick(()=>s.value=n),o});this.add(i),this.setX(E.buttonSize/2)}};E=mt([A(),re(0,_("Scene")),re(1,_(T))],E);class bt extends u.GameObjects.Container{constructor(e){super(e,p/2,p/2);l(this,"background");l(this,"lines");this.background=this.createBackground(),this.lines=this.createLines(),this.add(this.children)}get children(){return[this.background,...this.lines]}createBackground(){return new u.GameObjects.Rectangle(this.scene,0,0,p,p,c.GRAY)}createLines(){const e=Array.from({length:11}).map((i,r)=>this.createVerticalLine(O*r-p/2)),t=Array.from({length:11}).map((i,r)=>this.createHorizontalLine(O*r-p/2));return[...e,...t]}createVerticalLine(e){return new u.GameObjects.Rectangle(this.scene,e,0,2,p,c.WHITE)}createHorizontalLine(e){return new u.GameObjects.Rectangle(this.scene,0,e,p,2,c.WHITE)}}var gt=Object.defineProperty,St=Object.getOwnPropertyDescriptor,xt=(s,e,t,i)=>{for(var r=i>1?void 0:i?St(e,t):e,n=s.length-1,o;n>=0;n--)(o=s[n])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&gt(e,t,r),r},Ct=(s,e)=>(t,i)=>e(t,i,s);let Z=class extends u.Scene{constructor(s){super("Board");l(this,"shapesService");m.register("Scene",{useValue:this}),this.shapesService=s}preload(){this.load.audio(H,ke),this.load.audio(Y,Ue)}create(){this.sound.add(H),this.sound.add(Y);const s=new bt(this),e=m.resolve(q),t=m.resolve(V),i=m.resolve(E);this.add.existing(s),this.add.existing(e).setDepth(0),this.add.existing(t).setDepth(1),this.add.existing(i).setY(p)}};Z=xt([A(),Ct(0,_(T))],Z);class Ot{constructor(e){l(this,"game");const t=m.resolve(Z);this.game=new u.Game({type:u.CANVAS,parent:e,width:p,backgroundColor:16777215,height:e.offsetHeight,scene:[t]})}}const yt={class:"relative flex flex-col flex-1"},Et=B({setup(s){const e=U(null),t=m.resolve(N),i=m.resolve(T),r=m.resolve(L),n=m.resolve(R),o=z(t.isOver),f=()=>{t.reset(),i.reset(),r.reset(),n.reset()};return ve(()=>{e.value&&new Ot(e.value)}),(j,J)=>(w(),g("div",yt,[h("div",{ref_key:"gameContainer",ref:e,class:"flex-1"},null,512),x(Ve,{value:C(o),onRestart:f},null,8,["value"])]))}}),Pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$t=h("path",{fill:"currentColor",d:"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"},null,-1),It=[$t];function Lt(s,e){return w(),g("svg",Pt,It)}var Tt={render:Lt};const At={href:"https://github.com/xyz27900/tenten",target:"_blank",class:"flex items-center text-black px-4 py-2 bg-white hover:bg-gray rounded-xl"},Rt=h("span",{class:"text-xl mr-2"},"GitHub",-1),Dt=B({setup(s){return(e,t)=>(w(),g("a",At,[Rt,x(C(Tt),{class:"block w-7 h-7"})]))}});var jt=(s,e)=>{const t=s.__vccOpts||s;for(const[i,r]of e)t[i]=r;return t};const Bt={},Gt={class:"flex justify-center items-center h-full bg-teal"},Mt=h("div",{class:"flex flex-col justify-center items-center mx-8"},[h("div",{class:"text-3xl font-sans text-white mb-3"},"Sorry"),h("div",{class:"text-xl font-sans text-white text-center mb-3"},"The game is currently not available on your device")],-1),Nt=[Mt];function Vt(s,e){return w(),g("div",Gt,Nt)}var kt=jt(Bt,[["render",Vt]]);const Ut={key:0,class:"flex justify-center h-full"},Ht={class:"flex flex-col"},Yt={class:"flex flex-col shrink-0 py-8"},Ft={class:"flex justify-center"},zt={class:"flex items-center mt-8"},Wt={class:"flex items-center justify-center flex-1"},Xt={class:"text-3xl text-teal font-cursive"},qt={class:"flex shrink-0"},Zt={class:"flex items-center justify-center flex-1"},Jt={class:"text-3xl text-green font-cursive"},Kt=B({setup(s){const e=m.resolve(R),t=z(e.current),i=z(e.highest),r=U(!("ontouchstart"in window));return(n,o)=>r.value?(w(),g("div",Ut,[h("div",Ht,[h("div",Yt,[h("div",Ft,[x(C(Oe),{class:"w-36"})]),h("div",zt,[h("div",Wt,[h("span",Xt,K(C(t)),1)]),h("div",qt,[x(C(Ie),{class:"w-12 h-12 text-yellow"})]),h("div",Zt,[h("span",Jt,K(C(i)),1)])])]),x(Et)]),x(Dt,{class:"fixed right-4 bottom-4"})])):(w(),pe(kt,{key:1}))}});fe(Kt).mount("#app");
